{"version":3,"sources":["images/logo-white.svg","components/UserStatus.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","utils/api.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/PageContent.js","utils/constants.js","images/success.svg","images/fail.svg","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["UserStatus","props","className","isMenuOpen","userData","email","to","linkUrl","target","classLink","onClick","onSignOut","linkName","Header","href","src","logo","alt","type","aria-label","onShowMenu","onClose","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","link","name","onCardClick","onConfirm","onCardLike","length","Main","onEditAvatar","style","backgroundImage","avatar","about","onEditProfile","onAddPlace","cards","map","cardInfo","onShowImage","Footer","ImagePopup","event","currentTarget","PopupWithForm","submitButtonClassName","isDisabled","isOpen","onMouseDown","title","onSubmit","children","disabled","buttonText","EditProfilePopup","useState","setName","description","setDescription","setIsDisabled","useEffect","e","preventDefault","onUpdateUser","value","onChange","placeholder","id","required","minLength","maxLength","EditAvatarPopup","inputEditAvatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setTitle","setLink","ConfirmationPopup","onCardDelete","api","options","this","_url","baseUrl","_headers","headers","fetch","authorization","then","_getResponseData","data","method","body","JSON","stringify","cardId","cardLikes","addLike","deleteLike","response","ok","json","Promise","reject","Error","status","Login","setEmail","password","setPassword","noValidate","onLogin","Register","onRegister","InfoTooltip","statusData","text","ProtectedRoute","Component","component","HeaderComponent","headerComponent","MainComponent","mainComponent","FooterComponent","footerComponent","loggedIn","PageContent","registerStatus","success","fail","auth","url","token","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isLoading","setIsLoading","isConfirmationPopupOpen","setIsConfirmationPopupOpen","deletedCard","setDeletedCard","isInfoTooltipOpen","setIsInfoTooltipOpen","setUserData","setStatusData","history","useHistory","setLoggedIn","closeAllPopups","getUserInfo","userInfo","catch","err","console","log","getInitialCards","initialCards","onCloseByEsc","key","document","addEventListener","removeEventListener","localStorage","getItem","getContent","push","checkToken","Provider","path","authorize","setItem","register","cardData","item","changeLikeCardStatus","newCard","state","c","removeItem","setUserInfo","place","addCard","obj","setUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.883ca004.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-white.03b78ada.svg\";","import { Link } from \"react-router-dom\";\r\n\r\nfunction UserStatus(props) {\r\n    return (\r\n        // <div className={`header__user-status ${props.isMenuOpen ? 'header__user-status_opened' : ''}`}>\r\n        <div className={`header__user-status ${props.isMenuOpen ? 'header__user-status_opened' : ''}`}>\r\n            <span className=\"header__user-email\">{props.userData ? props.userData.email : \"\"}</span>\r\n            <Link\r\n                to={`/${props.linkUrl}`}\r\n                target=\"_self\"\r\n                className={`header__link ${props.classLink ? props.classLink : ''}`}\r\n                onClick={props.onSignOut}\r\n            >\r\n                {props.linkName}\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserStatus;\r\n","import React from \"react\";\r\nimport logo from \"./../images/logo-white.svg\";\r\nimport UserStatus from \"./UserStatus\";\r\n\r\nfunction Header(props) {\r\n    // const classNameButtonMenu = `button header__button-menu ${props.isMenuOpen ? '' : 'header__button-menu_opened'}`;\r\n    // const classNameButtonClose = `button header__button-close ${props.isMenuOpen ? 'header__button-close_opened' : ''}`;\r\n    return (\r\n        <header className={`header ${props.isMenuOpen ? 'header_opened' : ''}`}>\r\n            <a href=\"index.html\" target=\"_self\" className=\"logo\">\r\n                <img\r\n                    src={logo}\r\n                    alt=\"Логотип проекта Место\"\r\n                    className=\"header__logo\"\r\n                />\r\n            </a>\r\n            <UserStatus\r\n                userData={props.userData}\r\n                linkUrl={props.linkUrl}\r\n                linkName={props.linkName}\r\n                classLink={props.classLink}\r\n                onSignOut={props.onSignOut}\r\n                isMenuOpen={props.isMenuOpen}\r\n            />\r\n            <button\r\n                type=\"button\"\r\n                aria-label=\"Меню открыть\"\r\n                // className={classNameButtonMenu}\r\n                className=\"button header__button-menu\"\r\n                onClick={props.onShowMenu}\r\n            ></button>\r\n            <button\r\n                type=\"button\"\r\n                aria-label=\"Закрыть\"\r\n                // className={classNameButtonClose}\r\n                className=\"button header__button-close\"\r\n                onClick={props.onClose}\r\n            ></button>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = `button card__like-button${isLiked ? \" card__like-button_active\" : \"\"}`;\r\n\r\n    const cardDeleteButtonClassName = `button card__delete-button ${\r\n        isOwn ? \"card__delete-button_visible\" : \"card__delete-button_hidden\"\r\n    }`;\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onConfirm(props.card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"card\">\r\n            <img\r\n                className=\"card__image\"\r\n                src={props.card.link}\r\n                alt={props.card.name}\r\n                onClick={handleClick}\r\n            />\r\n            <button\r\n                type=\"button\"\r\n                aria-label=\"Удалить\"\r\n                className={cardDeleteButtonClassName}\r\n                onClick={handleDeleteClick}\r\n            ></button>\r\n            <div className=\"card__info\">\r\n                <h2 className=\"card__title\">{props.card.name}</h2>\r\n                <div className=\"card__likes\">\r\n                    <button\r\n                        type=\"button\"\r\n                        aria-label=\"Лайкнуть\"\r\n                        className={cardLikeButtonClassName}\r\n                        onClick={handleLikeClick}\r\n                    ></button>\r\n                    <span\r\n                        className=\"card__like-counter\"\r\n                        aria-label=\"Количество лайков\"\r\n                    >\r\n                        {props.card.likes.length}\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div\r\n                    className=\"profile__avatar-edit\"\r\n                    onClick={props.onEditAvatar}\r\n                    style={{ backgroundImage: `url(${currentUser ? currentUser.avatar : ''})` }}\r\n                ></div>\r\n                <div className=\"profile__about\">\r\n                    <h1 className=\"profile__name\">{currentUser ? currentUser.name : ''}</h1>\r\n                    <p className=\"profile__metier\">{currentUser ? currentUser.about : ''}</p>\r\n                    <button\r\n                        type=\"button\"\r\n                        aria-label=\"Редактировать\"\r\n                        className=\"button profile__edit-button\"\r\n                        onClick={props.onEditProfile}\r\n                    ></button>\r\n                </div>\r\n                <button\r\n                    type=\"button\"\r\n                    aria-label=\"Добавить\"\r\n                    className=\"button profile__add-button\"\r\n                    onClick={props.onAddPlace}\r\n                ></button>\r\n            </section>\r\n\r\n            <section aria-label=\"Карточки с местами\">\r\n                <ul className=\"cards\">\r\n                    {props.cards.map((cardInfo) => (\r\n                        <Card\r\n                            card={cardInfo}\r\n                            key={cardInfo._id}\r\n                            onCardClick={props.onShowImage}\r\n                            onCardLike={props.onCardLike}\r\n                            onConfirm={props.onConfirm}\r\n                        />\r\n                    ))}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__text\">&copy;&nbsp;2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n    function onCloseByOverlay(event) {\r\n        if (event.target === event.currentTarget) {\r\n            props.onClose();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={`overlay popup popup_type_show-image${\r\n                props.card.link && props.card.name ? \" popup_opened\" : \"\"\r\n            }`}\r\n            onClick={onCloseByOverlay}\r\n        >\r\n            <div className=\"popup__container popup__container_type_show-image\">\r\n                <button\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть\"\r\n                    className=\"button popup__close-button\"\r\n                    onClick={props.onClose}\r\n                ></button>\r\n                <figure className=\"figure\">\r\n                    <img\r\n                        src={props.card.link}\r\n                        alt={props.card.name}\r\n                        className=\"figure__image\"\r\n                    />\r\n                    <figcaption className=\"figure__caption\">\r\n                        {props.card.name}\r\n                    </figcaption>\r\n                </figure>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n    const submitButtonClassName = `popup__save-button ${\r\n        props.isDisabled ? \"popup__save-button_inactive\" : \"\"\r\n    }`;\r\n\r\n    function onCloseByOverlay(event) {\r\n        if (event.target === event.currentTarget) {\r\n            props.onClose();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={`overlay popup popup_type_${props.name}${\r\n                props.isOpen ? \" popup_opened\" : \"\"\r\n            }`}\r\n            onMouseDown={onCloseByOverlay}\r\n        >\r\n            <div className={`popup__container popup__container_type_${props.name}`}>\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                <button\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть\"\r\n                    className=\"button popup__close-button\"\r\n                    onClick={props.onClose}\r\n                ></button>\r\n                <form\r\n                    className={`popup__form popup__form_type_${props.name}`}\r\n                    name={props.name}\r\n                    // noValidate\r\n                    onSubmit={props.onSubmit}\r\n                >\r\n                    {props.children}\r\n                    <button\r\n                        type=\"submit\"\r\n                        className={submitButtonClassName}\r\n                        disabled={props.isDisabled}\r\n                    >\r\n                        {props.buttonText}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState(\"\");\r\n    const [description, setDescription] = React.useState(\"\");\r\n    const [isDisabled, setIsDisabled] = React.useState(true);\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setName(currentUser ? currentUser.name : \"\");\r\n        setDescription(currentUser ? currentUser.about : \"\");\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    useEffect(() => {\r\n        if (name === \"\" || description === \"\") {\r\n            setIsDisabled(true);\r\n        } else {\r\n            setIsDisabled(false);\r\n        }\r\n    }, [name, description])\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Редактировать профиль\"\r\n            name=\"profile\"\r\n            buttonText={props.buttonText}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={isDisabled}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={name}\r\n                    onChange={handleChangeName}\r\n                    name=\"input-name-profile\"\r\n                    placeholder=\"Название\"\r\n                    className=\"popup__input popup__input_type_name-profile\"\r\n                    id=\"input-name-profile\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"\r\n                />\r\n                <span className=\"popup__input-error input-name-profile-error\"></span>\r\n            </label>\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={description}\r\n                    onChange={handleChangeDescription}\r\n                    name=\"input-metier-profile\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    className=\"popup__input popup__input_type_metier-profile\"\r\n                    id=\"input-metier-profile\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"200\"\r\n                />\r\n                <span className=\"popup__input-error input-metier-profile-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const inputEditAvatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: inputEditAvatarRef.current.value,\r\n        });\r\n\r\n        inputEditAvatarRef.current.value = \"\";\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Обновить аватар\"\r\n            name=\"edit-avatar\"\r\n            buttonText={props.buttonText}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={false}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    type=\"url\"\r\n                    name=\"input-link-edit-avatar\"\r\n                    placeholder=\"Ссылка на аватарку\"\r\n                    className=\"popup__input popup__input_type_link-avatar\"\r\n                    id=\"input-link-edit-avatar\"\r\n                    required\r\n                    ref={inputEditAvatarRef}\r\n                />\r\n                <span className=\"popup__input-error input-link-edit-avatar-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [title, setTitle] = React.useState(\"\");\r\n    const [link, setLink] = React.useState(\"\");\r\n    const [isDisabled, setIsDisabled] = React.useState(true);\r\n\r\n    function handleChangeTitle(e) {\r\n        setTitle(e.target.value);\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            name: title,\r\n            link,\r\n        });\r\n\r\n        setTitle(\"\");\r\n        setLink(\"\");\r\n    }\r\n\r\n    function handleClose() {\r\n        props.onClose();\r\n        setTitle(\"\");\r\n        setLink(\"\");\r\n    }\r\n\r\n    useEffect(() => {\r\n        setTitle(\"\");\r\n        setLink(\"\");\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (title === \"\" || link === \"\") {\r\n            setIsDisabled(true);\r\n        } else {\r\n            setIsDisabled(false);\r\n        }\r\n    }, [title, link])\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Новое место\"\r\n            name=\"add-card\"\r\n            buttonText={props.buttonText}\r\n            isOpen={props.isOpen}\r\n            onClose={handleClose}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={isDisabled}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={title}\r\n                    onChange={handleChangeTitle}\r\n                    name=\"input-name-add-card\"\r\n                    placeholder=\"Название\"\r\n                    className=\"popup__input popup__input_type_name-card\"\r\n                    id=\"input-name-add-card\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"30\"\r\n                />\r\n                <span className=\"popup__input-error input-name-add-card-error\"></span>\r\n            </label>\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    type=\"url\"\r\n                    value={link}\r\n                    onChange={handleChangeLink}\r\n                    name=\"input-link-add-card\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    className=\"popup__input popup__input_type_link-card\"\r\n                    id=\"input-link-add-card\"\r\n                    required\r\n                />\r\n                <span className=\"popup__input-error input-link-add-card-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmationPopup(props) {\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Вы уверены?\"\r\n            name=\"confirm\"\r\n            buttonText={props.buttonText}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={false}\r\n        ></PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default ConfirmationPopup;\r\n","class Api {\n  constructor(options) {\n    this._url = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n      .then(this._getResponseData);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n      .then(this._getResponseData);\n  }\n\n  setUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data\n      })\n    })\n      .then(this._getResponseData);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n      .then(this._getResponseData);\n  }\n\n  addCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then(this._getResponseData);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n    .then(this._getResponseData);\n  }\n\n  addLike(cardId, cardLikes) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers,\n      body: JSON.stringify({\n        likes: cardLikes\n      })\n    })\n      .then(this._getResponseData);\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n    .then(this._getResponseData);\n  }\n\n  changeLikeCardStatus(cardId, isLiked, cardLikes) {\n    if (isLiked) {\n      return this.addLike(cardId, cardLikes);\n    } else {\n      return this.deleteLike(cardId);\n    }\n  }\n\n  _getResponseData(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Ошибка ${response.status}`));\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-22\",\n  headers: {\n    authorization: \"1e5f7c98-03ad-4c6e-8333-1ab219b8293f\",\n    \"Content-Type\": \"application/json\",\n  }\n});\n\nexport default api;\n","import React, { useEffect } from \"react\";\r\n\r\nfunction Login(props) {\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [isDisabled, setIsDisabled] = React.useState(true);\r\n    const submitButtonClassName = `popup__save-button popup__save-button_type_${props.name} ${\r\n        isDisabled ? \"popup__save-button_inactive\" : \"\"\r\n    }`;\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handleChangePassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onLogin({ email, password });\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n    }\r\n\r\n    useEffect(() => {\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (email === \"\" || password === \"\") {\r\n            setIsDisabled(true);\r\n        } else {\r\n            setIsDisabled(false);\r\n        }\r\n    }, [email, password]);\r\n\r\n    return (\r\n        <div className={`popup__container popup__container_type_${props.name}`}>\r\n            <h2 className={`popup__title popup__title_type_${props.name}`}>{props.title}</h2>\r\n            <form\r\n                className={`popup__form popup__form_type_${props.name}`}\r\n                name={props.name}\r\n                noValidate\r\n                onSubmit={handleSubmit}\r\n            >\r\n                <label className=\"popup__form-field\">\r\n                    <input\r\n                        type=\"email\"\r\n                        value={email}\r\n                        onChange={handleChangeEmail}\r\n                        name={`input-name-${props.name}`}\r\n                        placeholder=\"Email\"\r\n                        className={`popup__input popup__input_type_${props.name} popup__input_type_email-${props.name}`}\r\n                        id={`input-email-${props.name}`}\r\n                        required\r\n                    />\r\n                    <span className={`popup__input-error input-email-${props.name}-error`}></span>\r\n                </label>\r\n                <label className=\"popup__form-field\">\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        onChange={handleChangePassword}\r\n                        name={`input-password-${props.name}`}\r\n                        placeholder=\"Пароль\"\r\n                        className={`popup__input popup__input_type_${props.name} popup__input_type_password-${props.name}`}\r\n                        id={`input-password-${props.name}`}\r\n                        required\r\n                    />\r\n                    <span className={`popup__input-error input-password-${props.name}-error`}></span>\r\n                </label>\r\n                <button\r\n                    type=\"submit\"\r\n                    className={submitButtonClassName}\r\n                    disabled={isDisabled}\r\n                >\r\n                    {props.buttonText}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [isDisabled, setIsDisabled] = React.useState(true);\r\n    const submitButtonClassName = `popup__save-button popup__save-button_type_login ${\r\n        isDisabled ? \"popup__save-button_inactive\" : \"\"\r\n    }`;\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handleChangePassword(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onRegister({ email, password });\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n    }\r\n\r\n    useEffect(() => {\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (email === \"\" || password === \"\") {\r\n            setIsDisabled(true);\r\n        } else {\r\n            setIsDisabled(false);\r\n        }\r\n    }, [email, password]);\r\n\r\n    return (\r\n        <div className=\"popup__container popup__container_type_login\">\r\n            <h2 className=\"popup__title popup__title_type_login\">\r\n                {props.title}\r\n            </h2>\r\n            <form\r\n                className={`popup__form popup__form_type_${props.name}`}\r\n                name={props.name}\r\n                noValidate\r\n                onSubmit={handleSubmit}\r\n            >\r\n                <label className=\"popup__form-field\">\r\n                    <input\r\n                        type=\"email\"\r\n                        value={email}\r\n                        onChange={handleChangeEmail}\r\n                        name={`input-name-${props.name}`}\r\n                        placeholder=\"Email\"\r\n                        className={`popup__input popup__input_type_login popup__input_type_email-${props.name}`}\r\n                        id={`input-email-${props.name}`}\r\n                        required\r\n                    />\r\n                    <span\r\n                        className={`popup__input-error input-email-${props.name}-error`}\r\n                    ></span>\r\n                </label>\r\n                <label className=\"popup__form-field\">\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        onChange={handleChangePassword}\r\n                        name={`input-password-${props.name}`}\r\n                        placeholder=\"Пароль\"\r\n                        className={`popup__input popup__input_type_login popup__input_type_password-${props.name}`}\r\n                        id={`input-password-${props.name}`}\r\n                        required\r\n                    />\r\n                    <span\r\n                        className={`popup__input-error input-password-${props.name}-error`}\r\n                    ></span>\r\n                </label>\r\n                <button\r\n                    type=\"submit\"\r\n                    className={submitButtonClassName}\r\n                    disabled={isDisabled}\r\n                >\r\n                    {props.buttonText}\r\n                </button>\r\n            </form>\r\n            <Link\r\n                to=\"/signin\"\r\n                className=\"popup__link\"\r\n                onClick={props.onRegister}\r\n            >\r\n                Уже зарегистрированы? Войти\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;\r\n","function InfoTooltip(props) {\r\n    function onCloseByOverlay(event) {\r\n        if (event.target === event.currentTarget) {\r\n            props.onClose();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={`overlay popup popup_type_info-tooltip${\r\n                props.statusData ? \" popup_opened\" : \"\"\r\n            }`}\r\n            onClick={onCloseByOverlay}\r\n        >\r\n            <div className=\"popup__container popup__container_type_info-tooltip\">\r\n                <button\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть\"\r\n                    className=\"button popup__close-button\"\r\n                    onClick={props.onClose}\r\n                ></button>\r\n                    <img\r\n                        src={props.statusData && props.statusData.link}\r\n                        alt={props.statusData && props.statusData.text}\r\n                        className=\"popup__image popup__image_type_status\"\r\n                    />\r\n                    <h2 className=\"popup__title popup__title_type_status\">{props.statusData && props.statusData.text}</h2>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({\r\n    component: Component,\r\n    headerComponent: HeaderComponent,\r\n    mainComponent: MainComponent,\r\n    footerComponent: FooterComponent,\r\n    userData,\r\n    linkUrl,\r\n    linkName,\r\n    classLink,\r\n    onSignOut,\r\n    // onShowMenu,\r\n    // isMenuOpen,\r\n    // onClose,\r\n    ...props\r\n}) {\r\n    return (\r\n        <Route>\r\n            {() => {\r\n                if (props.loggedIn) {\r\n                    return (\r\n                        <Component>\r\n                            <HeaderComponent\r\n                                userData={userData}\r\n                                linkUrl={linkUrl}\r\n                                linkName={linkName}\r\n                                classLink={classLink}\r\n                                onSignOut={onSignOut}\r\n                                // onShowMenu={onShowMenu}\r\n                                // isMenuOpen={isMenuOpen}\r\n                                // onClose={onClose}\r\n                            />\r\n                            <MainComponent {...props} />\r\n                            <FooterComponent />\r\n                        </Component>\r\n                    );\r\n                } else {\r\n                    return <Redirect to=\"./signin\" />;\r\n                }\r\n            }}\r\n        </Route>\r\n    );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","function PageContent(props) {\r\n  return (\r\n    <div className=\"page__content\">\r\n      {props.children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PageContent;","import successPath from \"../images/success.svg\";\r\nimport failPath from \"../images/fail.svg\";\r\n\r\nexport const registerStatus = {\r\n  success: {\r\n    link: successPath,\r\n    text: 'Вы успешно зарегистрировались!'\r\n  },\r\n  fail: {\r\n    link: failPath,\r\n    text: 'Что-то пошло не так! Попробуйте ещё раз.'\r\n  }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/success.946ca54e.svg\";","export default __webpack_public_path__ + \"static/media/fail.caca820d.svg\";","class Auth {\r\n  constructor(url) {\r\n    this._url = url;\r\n  }\r\n\r\n  register({email, password}) {\r\n    return fetch(`${this._url}/signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({email, password})\r\n    });\r\n  }\r\n\r\n  authorize({email, password}) {\r\n    return fetch(`${this._url}/signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({email, password})\r\n    });\r\n  }\r\n\r\n  getContent(token) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nconst auth = new Auth(\"https://auth.nomoreparties.co\");\r\n\r\nexport default auth;\r\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmationPopup from \"./ConfirmationPopup\";\nimport api from \"./../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport PageContent from \"./PageContent\";\nimport { registerStatus } from \"../utils/constants\";\nimport auth from \"./../utils/auth\";\n\nfunction App() {\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({});\n    const [currentUser, setCurrentUser] = useState(null);\n    const [cards, setCards] = React.useState([]);\n    const [isLoading, setIsLoading] = React.useState(false);\n    const [isConfirmationPopupOpen, setIsConfirmationPopupOpen] =\n        useState(false);\n    const [deletedCard, setDeletedCard] = useState({});\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n    const [userData, setUserData] = useState(null);\n    const [statusData, setStatusData] = useState(null);\n    const history = useHistory();\n    const [loggedIn, setLoggedIn] = useState(false);\n    // const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleConfirmationClick(cardData) {\n        setIsConfirmationPopupOpen(true);\n        setDeletedCard(cardData);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsConfirmationPopupOpen(false);\n        setSelectedCard({});\n        setIsInfoTooltipOpen(false);\n        setStatusData(null);\n        // setIsMenuOpen(false);\n    }\n\n    function handleCardClick(cardData) {\n        setSelectedCard(cardData);\n    }\n\n    function handleUpdateUser(data) {\n        setIsLoading(true);\n        api.setUserInfo(data)\n            .then((userData) => {\n                setIsLoading(false);\n                setCurrentUser(userData);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleUpdateAvatar(obj) {\n        setIsLoading(true);\n        api.setUserAvatar(obj.avatar)\n            .then((userData) => {\n                setIsLoading(false);\n                setCurrentUser(userData);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleCardLike(card) {\n        const cardLikes = card.likes;\n        const isLiked = cardLikes.some((item) => item._id === currentUser._id);\n        if (!isLiked) {\n            cardLikes.push(currentUser);\n        }\n\n        api.changeLikeCardStatus(card._id, !isLiked, cardLikes)\n            .then((newCard) => {\n                setCards((state) =>\n                    state.map((c) => (c._id === card._id ? newCard : c))\n                );\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then((cardData) => {\n                setCards((state) => state.filter((c) => c._id !== card._id));\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleAddPlaceSubmit(place) {\n        setIsLoading(true);\n        api.addCard(place)\n            .then((newCard) => {\n                setIsLoading(false);\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function onRegister(userData) {\n        auth.register(userData)\n            .then((response) => {\n                if (response.ok) {\n                    setStatusData(registerStatus.success);\n                    setIsInfoTooltipOpen(true);\n                    history.push(\"/signin\");\n                    return response.json();\n                } else {\n                    setStatusData(registerStatus.fail);\n                    setIsInfoTooltipOpen(true);\n                    return Promise.reject(`Ошибка: ${response.status}`);\n                }\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function onLogin(userData) {\n        auth.authorize(userData)\n            .then((response) =>\n                response.ok\n                    ? response.json()\n                    : Promise.reject(`Ошибка: ${response.status}`)\n            )\n            .then((data) => {\n                if (data.token) {\n                    localStorage.setItem(\"token\", data.token);\n                    setUserData(userData);\n                    setLoggedIn(true);\n                    history.push(\"/\");\n                }\n            })\n            .catch((err) => console.log(err));\n    }\n\n    function checkToken() {\n        const token = localStorage.getItem(\"token\");\n        if (token) {\n            auth.getContent(token)\n                .then((response) =>\n                    response.ok\n                        ? response.json()\n                        : Promise.reject(`Ошибка: ${response.status}`)\n                )\n                .then((userData) => {\n                    if (userData.data) {\n                        setUserData(userData.data);\n                        setLoggedIn(true);\n                        history.push(\"/\");\n                    }\n                })\n                .catch((err) => console.log(err));\n        }\n    }\n\n    function onSignOut() {\n        if (loggedIn) {\n            localStorage.removeItem(\"token\");\n            setLoggedIn(false);\n            setUserData(null);\n        }\n    }\n\n    // function handleMenuClick() {\n    //     setIsMenuOpen(true);\n    //     console.log(isMenuOpen);\n    // }\n\n    useEffect(() => {\n        api.getUserInfo()\n            .then((userInfo) => {\n                setCurrentUser(userInfo);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    useEffect(() => {\n        api.getInitialCards()\n            .then((initialCards) => {\n                setCards(initialCards);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    useEffect(() => {\n        function onCloseByEsc(event) {\n            if (event.key === \"Escape\") {\n                closeAllPopups();\n            }\n        }\n\n        document.addEventListener(\"keydown\", onCloseByEsc);\n        return () => {\n            document.removeEventListener(\"keydown\", onCloseByEsc);\n        };\n    }, []);\n\n    useEffect(() => {\n        checkToken();\n    }, []);\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Switch>\n                    <Route path=\"/signin\">\n                        <PageContent>\n                            <Header linkUrl=\"signup\" linkName=\"Регистрация\" />\n                            <Login\n                                title=\"Вход\"\n                                name=\"login\"\n                                buttonText=\"Войти\"\n                                onLogin={onLogin}\n                            />\n                        </PageContent>\n                    </Route>\n                    <Route path=\"/signup\">\n                        <PageContent>\n                            <Header linkUrl=\"signin\" linkName=\"Войти\" />\n                            <Register\n                                title=\"Регистрация\"\n                                name=\"register\"\n                                buttonText=\"Зарегистрироваться\"\n                                onRegister={onRegister}\n                            />\n                        </PageContent>\n                    </Route>\n                    <ProtectedRoute\n                        path=\"/\"\n                        loggedIn={loggedIn}\n                        component={PageContent}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onEditAvatar={handleEditAvatarClick}\n                        onShowImage={handleCardClick}\n                        cards={cards}\n                        onCardLike={handleCardLike}\n                        onConfirm={handleConfirmationClick}\n                        headerComponent={Header}\n                        mainComponent={Main}\n                        footerComponent={Footer}\n                        userData={userData}\n                        linkUrl=\"signin\"\n                        linkName=\"Выйти\"\n                        classLink=\"header__link_type_logout\"\n                        onSignOut={onSignOut}\n                        // onShowMenu={handleMenuClick}\n                        // isMenuOpen={isMenuOpen}\n                        // onClose={closeAllPopups}\n                    />\n                </Switch>\n\n                <InfoTooltip\n                    isOpen={isInfoTooltipOpen}\n                    onClose={closeAllPopups}\n                    statusData={statusData}\n                />\n\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser}\n                    buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n                />\n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPlace={handleAddPlaceSubmit}\n                    buttonText={isLoading ? \"Сохранение...\" : \"Создать\"}\n                />\n\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar}\n                    buttonText={isLoading ? \"Сохранение...\" : \"Создать\"}\n                />\n\n                <ConfirmationPopup\n                    isOpen={isConfirmationPopupOpen}\n                    onClose={closeAllPopups}\n                    onCardDelete={handleCardDelete}\n                    card={deletedCard}\n                    buttonText=\"Да\"\n                />\n\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}